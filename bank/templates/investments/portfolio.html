<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Investment Portfolio</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
        }
        h1, h2, h3 {
            color: #2c3e50;
        }
        .navbar {
            background-color: #3498db;
            padding: 10px 0;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .navbar a {
            color: white;
            text-decoration: none;
            padding: 10px 15px;
            margin: 0 5px;
            border-radius: 3px;
            transition: background-color 0.3s;
        }
        .navbar a:hover {
            background-color: #2980b9;
        }
        .info-box {
            background-color: #e8f4fc;
            border-left: 5px solid #3498db;
            padding: 15px;
            margin: 20px 0;
            border-radius: 3px;
        }
        .card {
            background-color: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border-radius: 5px;
            padding: 20px;
            margin-bottom: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        tr:hover {
            background-color: #f1f1f1;
        }
        .portfolio-summary {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        .summary-card {
            flex: 1;
            min-width: 200px;
            margin: 10px;
            padding: 15px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            text-align: center;
        }
        .summary-card h3 {
            margin-top: 0;
            color: #3498db;
        }
        .summary-card .value {
            font-size: 24px;
            font-weight: bold;
            margin: 10px 0;
        }
        .chart-container {
            height: 300px;
            margin: 20px 0;
            background-color: white;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <h1 style="text-align: center;">Investment Portfolio for {{customer_name}}</h1>
    
    <div class="navbar">
        <a href="{{url_for("bank_views.stocksPage", customer_name=customer_name)}}">Stocks</a>
        <a href="{{url_for("bank_views.bondsPage", customer_name=customer_name)}}">Bonds</a>
        <a href="{{url_for("bank_views.futuresPage", customer_name=customer_name)}}">Futures</a>
        <a href="{{url_for("views.accountPage", customer_name=customer_name)}}">Back to Account</a>
    </div>
    
    <div class="info-box">
        <h3>About Your Investment Portfolio</h3>
        <p>Your investment portfolio shows all your current holdings across different asset classes. Diversification across stocks, bonds, and futures can help balance risk and potential returns. Review your portfolio regularly to ensure it aligns with your financial goals.</p>
    </div>
    
    <div class="portfolio-summary">
        <div class="summary-card">
            <h3>Total Portfolio Value</h3>
            <div class="value">$127,550.32</div>
            <div>+12.3% YTD</div>
        </div>
        <div class="summary-card">
            <h3>Stocks</h3>
            <div class="value">$84,230.15</div>
            <div>66% of portfolio</div>
        </div>
        <div class="summary-card">
            <h3>Bonds</h3>
            <div class="value">$32,320.17</div>
            <div>25% of portfolio</div>
        </div>
        <div class="summary-card">
            <h3>Futures</h3>
            <div class="value">$11,000.00</div>
            <div>9% of portfolio</div>
        </div>
    </div>
    
    <div class="chart-container">
        <h3>Portfolio Allocation</h3>
        <div id="portfolio-chart" style="width: 100%; height: 250px;">
            <!-- Canvas for chart -->
            <canvas id="allocationChart"></canvas>
        </div>
    </div>
    
    <!-- Stocks Section -->
    <div class="card">
        <h2>Stocks</h2>
        {% if portfolio.stocks %}
            <table>
                <tr>
                    <th>Symbol</th>
                    <th>Shares</th>
                    <th>Current Price</th>
                    <th>Total Value</th>
                </tr>
                {% for stock in portfolio.stocks %}
                <tr>
                    <td>{{ stock.symbol }}</td>
                    <td>{{ stock.shares }}</td>
                    <td>${{ stock.current_price }}</td>
                    <td>${{ stock.value }}</td>
                </tr>
                {% endfor %}
            </table>
        {% else %}
            <p>You don't own any stocks yet.</p>
        {% endif %}
    </div>
    
    <!-- Bonds Section -->
    <div class="card">
        <h2>Bonds</h2>
        {% if portfolio.bonds %}
            <table>
                <tr>
                    <th>Bond ID</th>
                    <th>Amount</th>
                </tr>
                {% for bond in portfolio.bonds %}
                <tr>
                    <td>{{ bond.bond_id }}</td>
                    <td>${{ bond.amount }}</td>
                </tr>
                {% endfor %}
            </table>
        {% else %}
            <p>You don't own any bonds yet.</p>
        {% endif %}
    </div>
    
    <!-- Futures Section -->
    <div class="card">
        <h2>Futures</h2>
        {% if portfolio.futures %}
            <table>
                <tr>
                    <th>Position ID</th>
                    <th>Symbol</th>
                    <th>Contracts</th>
                    <th>Position</th>
                    <th>Margin</th>
                </tr>
                {% for future in portfolio.futures %}
                <tr>
                    <td>{{ future.position_id }}</td>
                    <td>{{ future.symbol }}</td>
                    <td>{{ future.contracts }}</td>
                    <td>{{ future.position }}</td>
                    <td>${{ future.margin }}</td>
                </tr>
                {% endfor %}
            </table>
        {% else %}
            <p>You don't have any futures positions yet.</p>
        {% endif %}
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Portfolio allocation chart
        const ctx = document.getElementById('allocationChart').getContext('2d');
        const myChart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ['Stocks', 'Bonds', 'Futures'],
                datasets: [{
                    data: [66, 25, 9],
                    backgroundColor: [
                        '#3498db',
                        '#2ecc71',
                        '#e74c3c'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom',
                    },
                    title: {
                        display: true,
                        text: 'Portfolio Allocation'
                    }
                }
            }
        });
    </script>
    <script type="text/javascript" src="{{url_for('static', filename='index.js')}}"></script>
</body>
</html> 